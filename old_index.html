<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>NovaWave Music Player</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <div class="app-shell">
    <div class="blur-orb blur-orb--left"></div>
    <div class="blur-orb blur-orb--right"></div>

    <header class="app-header">
      <div class="app-title-block">
        <div class="logo-pill">NW</div>
        <div class="app-title-text">
          <h1 id="app-title">NovaWave Music Player</h1>
          <p id="app-subtitle">Lokale Musik + Downloader</p>
        </div>
      </div>

      <div class="header-right">
        <div class="lang-switch">
          <button class="lang-btn lang-btn--active" data-lang="de">DE</button>
          <span>/</span>
          <button class="lang-btn" data-lang="en">EN</button>
        </div>

        <div class="theme-panel">
          <span class="theme-label" id="label-theme">Theme</span>
          <div class="theme-buttons">
            <button
              class="theme-btn theme-btn--active"
              data-theme="blue"
              id="btn-theme-blue"
            >
              Blue-Purple
            </button>
            <button
              class="theme-btn"
              data-theme="dark"
              id="btn-theme-dark"
            >
              Dark
            </button>
            <button
              class="theme-btn"
              data-theme="light"
              id="btn-theme-light"
            >
              White
            </button>
          </div>
        </div>

        <div class="bg-anim-panel">
          <label class="toggle">
            <input type="checkbox" id="toggle-bg-anim" />
            <span class="toggle-slider"></span>
            <span class="toggle-label" id="label-bg-anim">
              Hintergrund-Animation aus
            </span>
          </label>
        </div>

        <div class="comfort-panel">
          <label class="toggle">
            <input type="checkbox" id="toggle-comfort" />
            <span class="toggle-slider"></span>
            <span class="toggle-label" id="label-comfort">
              Komfort-Modus aus
            </span>
          </label>
        </div>

        <div class="mini-panel">
          <button
            id="btn-toggle-mini"
            class="mini-toggle-btn"
            type="button"
            aria-label="Mini-Player"
            title="Mini-Player"
          >
            üóñ
          </button>
        </div>
      </div>
    </header>

    <main class="app-main" role="main">
      <!-- Linke Seite: Now Playing + Extras -->
      <section class="player-card" aria-label="Aktueller Titel und Tools">
        <!-- Box 1: Aktueller Track -->
        <div class="now-playing-card">
          <div class="card-label">
            <span id="label-current-track">Aktueller Track</span>
            <span class="pill-badge" id="queue-label">Queue: 0 Songs</span>
          </div>

          <div class="player-main">
            <div class="cover-wrapper">
              <div class="cover">
                <div class="cover-inner">
                  <div class="cover-top-tag" id="cover-top-tag">Now Playing</div>
                  <div class="cover-visual"></div>
                  <div class="cover-bottom-row">
                    <span id="cover-bottom-text">Bereit f√ºr Musik</span>
                    <div class="cover-wave">
                      <span></span><span></span><span></span><span></span><span></span>
                    </div>
                  </div>
                </div>
              </div>
            </div>

            <div class="player-info">
              <div>
                <div class="track-label" id="track-label-header">
                  Ausgew√§hlter Titel
                </div>

                <div class="track-title-row">
                  <div class="track-title" id="track-title">
                    Kein Track ausgew√§hlt
                  </div>
                  <button
                    class="favorite-nowplaying"
                    id="btn-favorite-current"
                    type="button"
                    aria-label="Track als Favorit markieren"
                    title="Favorit"
                  >
                    ‚òÜ
                  </button>
                </div>

                <div class="track-artist" id="track-artist">
                  W√§hle einen Ordner oder lade Titel herunter
                </div>
                <div class="track-meta-row">
                  <div class="meta-pill">
                    <div class="meta-dot"></div>
                    <span id="track-genre">‚Äì</span>
                  </div>
                  <div class="meta-pill">
                    ‚è± <span id="track-length">--:--</span>
                  </div>
                </div>
              </div>

              <div class="progress-wrapper">
                <div class="progress-row">
                  <span id="track-current-time">0:00</span>
                  <span id="track-remaining-time">--:--</span>
                </div>
                <div class="progress-bar" id="progress-bar">
                  <div class="progress-bar-fill" id="progress-fill"></div>
                </div>
              </div>

              <div class="player-modes-row">
                <span
                  class="player-modes-label"
                  id="label-playback-modes"
                >
                  Wiedergabemodi
                </span>
                <div class="playback-modes">
                  <button
                    class="mode-btn"
                    id="btn-shuffle"
                    type="button"
                    title="Shuffle"
                  >
                    üîÄ
                  </button>
                  <button
                    class="mode-btn"
                    id="btn-loop"
                    type="button"
                    title="Repeat / Loop"
                  >
                    üîÅ
                  </button>
                </div>
              </div>

              <div class="player-controls-row">
                <div class="transport-controls">
                  <button
                    class="control-pill"
                    id="btn-prev"
                    type="button"
                    title="Vorheriger Titel"
                  >
                    ‚èÆ
                  </button>
                  <button
                    class="control-main"
                    id="btn-play"
                    type="button"
                    title="Play/Pause"
                  >
                    <svg
                      class="control-main-icon"
                      viewBox="0 0 24 24"
                      id="play-icon"
                    >
                      <path d="M7 5v14l12-7z"></path>
                    </svg>
                    <svg
                      class="control-main-icon"
                      viewBox="0 0 24 24"
                      id="pause-icon"
                      style="display:none;"
                    >
                      <path
                        d="M7 5h4v14H7zM13 5h4v14h-4z"
                      ></path>
                    </svg>
                  </button>
                  <button
                    class="control-pill"
                    id="btn-next"
                    type="button"
                    title="N√§chster Titel"
                  >
                    ‚è≠
                  </button>
                </div>

                <div class="control-secondary-row">
                  <span id="volume-label">Lautst√§rke</span>
                  <div class="volume-slider" id="volume-slider">
                    <div class="volume-fill" id="volume-fill"></div>
                  </div>
                  <span class="dot-separator"></span>
                  <span id="up-next-label">Als N√§chstes:</span>
                  <strong id="next-track-label">‚Äì</strong>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- Box 3: Extras (Downloader + Visualizer) -->
        <div class="extras-card">
          <div class="card-label">
            <span id="label-extras">Tools & Downloader</span>
          </div>

          <div class="extras-content">
            <div class="extras-row">
              <!-- Downloader -->
              <div class="extras-block">
                <div
                  class="extras-title"
                  id="label-downloader-title"
                >
                  Downloader
                </div>
                <div
                  class="extras-subtitle"
                  id="label-downloader-subtitle"
                >
                  Lade Audiodateien per URL in einen Zielordner herunter.
                </div>
                <div class="extras-input-row">
                  <input
                    id="yt-url"
                    class="extras-input"
                    type="text"
                    placeholder="https://example.com/song.mp3"
                    aria-label="Download-URL"
                  />
                </div>
                <div class="extras-input-row" style="margin-top:8px;">
                  <input
                    id="yt-name"
                    class="extras-input"
                    type="text"
                    placeholder="Optionaler Dateiname"
                    style="width:60%;"
                    aria-label="Optionaler Dateiname"
                  />
                  <button
                    class="extras-button"
                    id="btn-download-yt"
                    type="button"
                  >
                    ‚¨á Download
                  </button>
                </div>
                <div
                  id="yt-status"
                  style="
                    margin-top:8px;
                    font-size:11px;
                    color:#94a3b8;
                    min-height:20px;
                  "
                  aria-live="polite"
                ></div>

                <div class="yt-progress-wrapper">
                  <div class="yt-progress-bar">
                    <div
                      class="yt-progress-fill"
                      id="yt-progress-fill"
                      style="width:0%;"
                    ></div>
                  </div>
                </div>
              </div>

              <!-- Visualizer -->
              <div class="extras-block">
                <div
                  class="extras-title"
                  id="label-visualizer-title"
                >
                  Audio-Visualizer
                </div>
                <div
                  class="extras-subtitle"
                  id="label-visualizer-subtitle"
                >
                  Echtzeit-Visualisierung der aktuellen
                  Wiedergabe.
                </div>
                <label class="toggle">
                  <input
                    type="checkbox"
                    id="toggle-visualizer"
                  />
                  <span class="toggle-slider"></span>
                  <span
                    class="toggle-label"
                    id="label-visualizer-switch"
                  >
                    Visualizer aus
                  </span>
                </label>
                <div
                  id="visualizer-container"
                  style="
                    margin-top:12px;
                    height:80px;
                    display:none;
                  "
                >
                  <canvas id="visualizer-canvas"></canvas>
                </div>
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- Rechte Seite: Playlist -->
      <section class="playlist-card" aria-label="Playlist">
        <div class="playlist-header-row">
          <div>
            <div class="card-label">
              <span id="label-playlist">Playlist</span>
            </div>
            <div
              class="playlist-summary"
              id="playlist-summary"
              aria-live="polite"
            >
              Keine Titel geladen
            </div>
          </div>

          <div class="playlist-tools">
            <input
              id="playlist-search"
              class="playlist-search-input"
              type="text"
              placeholder="Suche in Playlist"
              aria-label="Playlist durchsuchen"
            />
            <div class="playlist-sort-buttons">
              <button
                class="playlist-sort-btn playlist-sort-btn--active"
                id="btn-sort-original"
                type="button"
                title="Original-Reihenfolge"
              >
                ‚Ü∫
              </button>
              <button
                class="playlist-sort-btn"
                id="btn-sort-az"
                type="button"
                title="Alphabetisch A‚ÄìZ"
              >
                A‚ÄìZ
              </button>
            </div>
            <button
              class="link-ghost"
              id="btn-load-tracks"
              type="button"
            >
              Ordner √∂ffnen
            </button>
          </div>
        </div>

        <div class="playlist-list" id="playlist-list">
          <!-- wird per JS bef√ºllt -->
        </div>
      </section>
    </main>

    <footer class="app-footer">
      <span id="footer-left">
        NovaWave ‚Ä¢ Lokale Dateien + Downloader
      </span>
    </footer>

    <button
      id="btn-help"
      class="help-fab"
      type="button"
      aria-label="Hilfe / Help"
      title="Hilfe & Tastenk√ºrzel"
    >
      üí°
    </button>

    <div
      id="help-overlay"
      class="help-overlay"
      style="display:none;"
    >
      <div class="help-overlay-backdrop"></div>
      <div
        class="help-dialog"
        role="dialog"
        aria-modal="true"
        aria-labelledby="help-title"
      >
        <div class="help-dialog-header">
          <h2 id="help-title">Hilfe &amp; Tastenk√ºrzel</h2>
          <button
            id="btn-help-close"
            class="help-close-btn"
            type="button"
            aria-label="Schlie√üen"
          >
            ‚úï
          </button>
        </div>
        <div class="help-dialog-body">
          <section class="help-section">
            <h3 id="help-hotkeys-title">Hotkeys / Tastenk√ºrzel</h3>
            <ul id="help-hotkeys-list">
              <li><strong>Leertaste</strong> ‚Äì Play / Pause</li>
              <li><strong>Pfeil rechts</strong> ‚Äì N√§chster Track</li>
              <li><strong>Pfeil links</strong> ‚Äì Vorheriger Track</li>
              <li><strong>S</strong> ‚Äì Shuffle an/aus</li>
              <li><strong>L</strong> ‚Äì Loop-Modus wechseln (aus ‚Üí alle ‚Üí ein Titel)</li>
              <li><strong>F</strong> ‚Äì Aktuellen Track als Favorit markieren/entfernen</li>
              <li><strong>Pfeil hoch</strong> oder <strong>+</strong> ‚Äì Lautst√§rke erh√∂hen</li>
              <li><strong>Pfeil runter</strong> oder <strong>-</strong> ‚Äì Lautst√§rke verringern</li>
              <li><strong>Media-Tasten</strong> (Play/Pause, Next, Prev, Stop, Mute) ‚Äì werden, wenn vorhanden, unterst√ºtzt</li>
            </ul>
          </section>

          <section class="help-section">
            <h3 id="help-usage-title">Bedienung</h3>
            <ul id="help-usage-list">
              <li>Klick auf einen Eintrag in der Playlist ‚Äì Track abspielen</li>
              <li>Klick in die Fortschrittsleiste ‚Äì im Track springen</li>
              <li>Klick in die Lautst√§rkeleiste ‚Äì Lautst√§rke setzen</li>
              <li>‚ÄûOrdner √∂ffnen‚Äú ‚Äì lokalen Musik-Ordner ausw√§hlen</li>
              <li>Downloader ‚Äì URL eingeben, optional Dateiname, Zielordner w√§hlen</li>
            </ul>
          </section>

          <section class="help-section">
            <h3 id="help-themes-title">Themes &amp; Komfort</h3>
            <ul id="help-themes-list">
              <li><strong>Theme</strong> ‚Äì Blue-Purple, Dark oder White ausw√§hlen</li>
              <li><strong>Hintergrund-Animation</strong> ‚Äì animierten Hintergrund ein-/ausschalten</li>
              <li><strong>Komfort-Modus</strong> ‚Äì gr√∂√üere Schrift, gr√∂√üere Buttons, ruhigere Animation</li>
            </ul>
          </section>

          <section class="help-section">
            <h3 id="help-misc-title">Sonstiges</h3>
            <ul id="help-misc-list">
              <li>Playlist-Suche ‚Äì schnell nach Titeln filtern</li>
              <li>Sortierung ‚Äì Original-Reihenfolge oder A‚ÄìZ</li>
              <li>Shuffle &amp; Loop ‚Äì Wiedergabemodi steuern</li>
              <li>Favoriten ‚Äì Tracks mit Stern markieren</li>
            </ul>
          </section>
        </div>
      </div>
    </div>
  </div>

  <script src="renderer.js"></script>
</body>
</html>
